{"ast":null,"code":"import { __spreadArray } from \"tslib\";\nimport { isPluralElement, isSelectElement, isTagElement } from './types';\nfunction cloneDeep(obj) {\n  if (Array.isArray(obj)) {\n    // @ts-expect-error meh\n    return __spreadArray([], obj.map(cloneDeep), true);\n  }\n  if (obj !== null && typeof obj === 'object') {\n    // @ts-expect-error meh\n    return Object.keys(obj).reduce(function (cloned, k) {\n      // @ts-expect-error meh\n      cloned[k] = cloneDeep(obj[k]);\n      return cloned;\n    }, {});\n  }\n  return obj;\n}\nfunction hoistPluralOrSelectElement(ast, el, positionToInject) {\n  // pull this out of the ast and move it to the top\n  var cloned = cloneDeep(el);\n  var options = cloned.options;\n  cloned.options = Object.keys(options).reduce(function (all, k) {\n    var newValue = hoistSelectors(__spreadArray(__spreadArray(__spreadArray([], ast.slice(0, positionToInject), true), options[k].value, true), ast.slice(positionToInject + 1), true));\n    all[k] = {\n      value: newValue\n    };\n    return all;\n  }, {});\n  return cloned;\n}\nfunction isPluralOrSelectElement(el) {\n  return isPluralElement(el) || isSelectElement(el);\n}\nfunction findPluralOrSelectElement(ast) {\n  return !!ast.find(function (el) {\n    if (isPluralOrSelectElement(el)) {\n      return true;\n    }\n    if (isTagElement(el)) {\n      return findPluralOrSelectElement(el.children);\n    }\n    return false;\n  });\n}\n/**\n * Hoist all selectors to the beginning of the AST & flatten the\n * resulting options. E.g:\n * \"I have {count, plural, one{a dog} other{many dogs}}\"\n * becomes \"{count, plural, one{I have a dog} other{I have many dogs}}\".\n * If there are multiple selectors, the order of which one is hoisted 1st\n * is non-deterministic.\n * The goal is to provide as many full sentences as possible since fragmented\n * sentences are not translator-friendly\n * @param ast AST\n */\nexport function hoistSelectors(ast) {\n  for (var i = 0; i < ast.length; i++) {\n    var el = ast[i];\n    if (isPluralOrSelectElement(el)) {\n      return [hoistPluralOrSelectElement(ast, el, i)];\n    }\n    if (isTagElement(el) && findPluralOrSelectElement([el])) {\n      throw new Error('Cannot hoist plural/select within a tag element. Please put the tag element inside each plural/select option');\n    }\n  }\n  return ast;\n}","map":{"version":3,"names":["__spreadArray","isPluralElement","isSelectElement","isTagElement","cloneDeep","obj","Array","isArray","map","Object","keys","reduce","cloned","k","hoistPluralOrSelectElement","ast","el","positionToInject","options","all","newValue","hoistSelectors","slice","value","isPluralOrSelectElement","findPluralOrSelectElement","find","children","i","length","Error"],"sources":["C:/Users/chest/OneDrive/Documentos/GitHub/HackUPC/frontend/node_modules/@formatjs/icu-messageformat-parser/lib/manipulator.js"],"sourcesContent":["import { __spreadArray } from \"tslib\";\nimport { isPluralElement, isSelectElement, isTagElement, } from './types';\nfunction cloneDeep(obj) {\n    if (Array.isArray(obj)) {\n        // @ts-expect-error meh\n        return __spreadArray([], obj.map(cloneDeep), true);\n    }\n    if (obj !== null && typeof obj === 'object') {\n        // @ts-expect-error meh\n        return Object.keys(obj).reduce(function (cloned, k) {\n            // @ts-expect-error meh\n            cloned[k] = cloneDeep(obj[k]);\n            return cloned;\n        }, {});\n    }\n    return obj;\n}\nfunction hoistPluralOrSelectElement(ast, el, positionToInject) {\n    // pull this out of the ast and move it to the top\n    var cloned = cloneDeep(el);\n    var options = cloned.options;\n    cloned.options = Object.keys(options).reduce(function (all, k) {\n        var newValue = hoistSelectors(__spreadArray(__spreadArray(__spreadArray([], ast.slice(0, positionToInject), true), options[k].value, true), ast.slice(positionToInject + 1), true));\n        all[k] = {\n            value: newValue,\n        };\n        return all;\n    }, {});\n    return cloned;\n}\nfunction isPluralOrSelectElement(el) {\n    return isPluralElement(el) || isSelectElement(el);\n}\nfunction findPluralOrSelectElement(ast) {\n    return !!ast.find(function (el) {\n        if (isPluralOrSelectElement(el)) {\n            return true;\n        }\n        if (isTagElement(el)) {\n            return findPluralOrSelectElement(el.children);\n        }\n        return false;\n    });\n}\n/**\n * Hoist all selectors to the beginning of the AST & flatten the\n * resulting options. E.g:\n * \"I have {count, plural, one{a dog} other{many dogs}}\"\n * becomes \"{count, plural, one{I have a dog} other{I have many dogs}}\".\n * If there are multiple selectors, the order of which one is hoisted 1st\n * is non-deterministic.\n * The goal is to provide as many full sentences as possible since fragmented\n * sentences are not translator-friendly\n * @param ast AST\n */\nexport function hoistSelectors(ast) {\n    for (var i = 0; i < ast.length; i++) {\n        var el = ast[i];\n        if (isPluralOrSelectElement(el)) {\n            return [hoistPluralOrSelectElement(ast, el, i)];\n        }\n        if (isTagElement(el) && findPluralOrSelectElement([el])) {\n            throw new Error('Cannot hoist plural/select within a tag element. Please put the tag element inside each plural/select option');\n        }\n    }\n    return ast;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}