{"ast":null,"code":"var path = require('path');\nvar url = require('url');\nvar isRemoteResource = require('../utils/is-remote-resource');\nvar hasProtocol = require('../utils/has-protocol');\nvar HTTP_PROTOCOL = 'http:';\nfunction isAllowedResource(uri, isRemote, rules) {\n  var match;\n  var absoluteUri;\n  var allowed = !isRemote;\n  var rule;\n  var isNegated;\n  var normalizedRule;\n  var i;\n  if (rules.length === 0) {\n    return false;\n  }\n  if (isRemote && !hasProtocol(uri)) {\n    uri = HTTP_PROTOCOL + uri;\n  }\n  match = isRemote ? url.parse(uri).host : uri;\n  absoluteUri = isRemote ? uri : path.resolve(uri);\n  for (i = 0; i < rules.length; i++) {\n    rule = rules[i];\n    isNegated = rule[0] == '!';\n    normalizedRule = rule.substring(1);\n    if (isNegated && isRemote && isRemoteRule(normalizedRule)) {\n      allowed = allowed && !isAllowedResource(uri, true, [normalizedRule]);\n    } else if (isNegated && !isRemote && !isRemoteRule(normalizedRule)) {\n      allowed = allowed && !isAllowedResource(uri, false, [normalizedRule]);\n    } else if (isNegated) {\n      allowed = allowed && true;\n    } else if (rule == 'all') {\n      allowed = true;\n    } else if (isRemote && rule == 'local') {\n      allowed = allowed || false;\n    } else if (isRemote && rule == 'remote') {\n      allowed = true;\n    } else if (!isRemote && rule == 'remote') {\n      allowed = false;\n    } else if (!isRemote && rule == 'local') {\n      allowed = true;\n    } else if (rule === match) {\n      allowed = true;\n    } else if (rule === uri) {\n      allowed = true;\n    } else if (isRemote && absoluteUri.indexOf(rule) === 0) {\n      allowed = true;\n    } else if (!isRemote && absoluteUri.indexOf(path.resolve(rule)) === 0) {\n      allowed = true;\n    } else if (isRemote != isRemoteRule(normalizedRule)) {\n      allowed = allowed && true;\n    } else {\n      allowed = false;\n    }\n  }\n  return allowed;\n}\nfunction isRemoteRule(rule) {\n  return isRemoteResource(rule) || url.parse(HTTP_PROTOCOL + '//' + rule).host == rule;\n}\nmodule.exports = isAllowedResource;","map":{"version":3,"names":["path","require","url","isRemoteResource","hasProtocol","HTTP_PROTOCOL","isAllowedResource","uri","isRemote","rules","match","absoluteUri","allowed","rule","isNegated","normalizedRule","i","length","parse","host","resolve","substring","isRemoteRule","indexOf","module","exports"],"sources":["C:/Users/chest/OneDrive/Documentos/GitHub/HackUPC/frontend/node_modules/clean-css/lib/reader/is-allowed-resource.js"],"sourcesContent":["var path = require('path');\nvar url = require('url');\n\nvar isRemoteResource = require('../utils/is-remote-resource');\nvar hasProtocol = require('../utils/has-protocol');\n\nvar HTTP_PROTOCOL = 'http:';\n\nfunction isAllowedResource(uri, isRemote, rules) {\n  var match;\n  var absoluteUri;\n  var allowed = !isRemote;\n  var rule;\n  var isNegated;\n  var normalizedRule;\n  var i;\n\n  if (rules.length === 0) {\n    return false;\n  }\n\n  if (isRemote && !hasProtocol(uri)) {\n    uri = HTTP_PROTOCOL + uri;\n  }\n\n  match = isRemote\n    ? url.parse(uri).host\n    : uri;\n\n  absoluteUri = isRemote\n    ? uri\n    : path.resolve(uri);\n\n  for (i = 0; i < rules.length; i++) {\n    rule = rules[i];\n    isNegated = rule[0] == '!';\n    normalizedRule = rule.substring(1);\n\n    if (isNegated && isRemote && isRemoteRule(normalizedRule)) {\n      allowed = allowed && !isAllowedResource(uri, true, [normalizedRule]);\n    } else if (isNegated && !isRemote && !isRemoteRule(normalizedRule)) {\n      allowed = allowed && !isAllowedResource(uri, false, [normalizedRule]);\n    } else if (isNegated) {\n      allowed = allowed && true;\n    } else if (rule == 'all') {\n      allowed = true;\n    } else if (isRemote && rule == 'local') {\n      allowed = allowed || false;\n    } else if (isRemote && rule == 'remote') {\n      allowed = true;\n    } else if (!isRemote && rule == 'remote') {\n      allowed = false;\n    } else if (!isRemote && rule == 'local') {\n      allowed = true;\n    } else if (rule === match) {\n      allowed = true;\n    } else if (rule === uri) {\n      allowed = true;\n    } else if (isRemote && absoluteUri.indexOf(rule) === 0) {\n      allowed = true;\n    } else if (!isRemote && absoluteUri.indexOf(path.resolve(rule)) === 0) {\n      allowed = true;\n    } else if (isRemote != isRemoteRule(normalizedRule)) {\n      allowed = allowed && true;\n    } else {\n      allowed = false;\n    }\n  }\n\n  return allowed;\n}\n\nfunction isRemoteRule(rule) {\n  return isRemoteResource(rule) || url.parse(HTTP_PROTOCOL + '//' + rule).host == rule;\n}\n\nmodule.exports = isAllowedResource;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}