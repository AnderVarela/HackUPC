{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WithScope = void 0;\nconst assert_1 = require(\"../assert\");\nconst ScopeBase_1 = require(\"./ScopeBase\");\nconst ScopeType_1 = require(\"./ScopeType\");\nclass WithScope extends ScopeBase_1.ScopeBase {\n  constructor(scopeManager, upperScope, block) {\n    super(scopeManager, ScopeType_1.ScopeType.with, upperScope, block, false);\n  }\n  close(scopeManager) {\n    if (this.shouldStaticallyClose()) {\n      return super.close(scopeManager);\n    }\n    (0, assert_1.assert)(this.leftToResolve);\n    this.leftToResolve.forEach(ref => this.delegateToUpperScope(ref));\n    this.leftToResolve = null;\n    return this.upper;\n  }\n}\nexports.WithScope = WithScope;","map":{"version":3,"names":["assert_1","require","ScopeBase_1","ScopeType_1","WithScope","ScopeBase","constructor","scopeManager","upperScope","block","ScopeType","with","close","shouldStaticallyClose","assert","leftToResolve","forEach","ref","delegateToUpperScope","upper","exports"],"sources":["../../src/scope/WithScope.ts"],"sourcesContent":[null],"mappings":";;;;;;AAEA,MAAAA,QAAA,GAAAC,OAAA;AAGA,MAAAC,WAAA,GAAAD,OAAA;AACA,MAAAE,WAAA,GAAAF,OAAA;AAEA,MAAMG,SAAU,SAAQF,WAAA,CAAAG,SAIvB;EACCC,YACEC,YAA0B,EAC1BC,UAA8B,EAC9BC,KAAyB;IAEzB,KAAK,CAACF,YAAY,EAAEJ,WAAA,CAAAO,SAAS,CAACC,IAAI,EAAEH,UAAU,EAAEC,KAAK,EAAE,KAAK,CAAC;EAC/D;EACAG,KAAKA,CAACL,YAA0B;IAC9B,IAAI,IAAI,CAACM,qBAAqB,EAAE,EAAE;MAChC,OAAO,KAAK,CAACD,KAAK,CAACL,YAAY,CAAC;;IAElC,IAAAP,QAAA,CAAAc,MAAM,EAAC,IAAI,CAACC,aAAa,CAAC;IAC1B,IAAI,CAACA,aAAa,CAACC,OAAO,CAACC,GAAG,IAAI,IAAI,CAACC,oBAAoB,CAACD,GAAG,CAAC,CAAC;IACjE,IAAI,CAACF,aAAa,GAAG,IAAI;IACzB,OAAO,IAAI,CAACI,KAAK;EACnB;;AAGOC,OAAA,CAAAhB,SAAA,GAAAA,SAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}