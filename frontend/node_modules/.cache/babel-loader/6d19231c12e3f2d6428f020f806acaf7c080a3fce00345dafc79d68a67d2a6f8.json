{"ast":null,"code":"var canReorder = require('./reorderable').canReorder;\nvar extractProperties = require('./extract-properties');\nvar optimizeProperties = require('./properties/optimize');\nvar serializeRules = require('../../writer/one-time').rules;\nvar Token = require('../../tokenizer/token');\nfunction mergeNonAdjacentBySelector(tokens, context) {\n  var specificityCache = context.cache.specificity;\n  var allSelectors = {};\n  var repeatedSelectors = [];\n  var i;\n  for (i = tokens.length - 1; i >= 0; i--) {\n    if (tokens[i][0] != Token.RULE) {\n      continue;\n    }\n    if (tokens[i][2].length === 0) {\n      continue;\n    }\n    var selector = serializeRules(tokens[i][1]);\n    allSelectors[selector] = [i].concat(allSelectors[selector] || []);\n    if (allSelectors[selector].length == 2) {\n      repeatedSelectors.push(selector);\n    }\n  }\n  for (i = repeatedSelectors.length - 1; i >= 0; i--) {\n    var positions = allSelectors[repeatedSelectors[i]];\n    selectorIterator: for (var j = positions.length - 1; j > 0; j--) {\n      var positionOne = positions[j - 1];\n      var tokenOne = tokens[positionOne];\n      var positionTwo = positions[j];\n      var tokenTwo = tokens[positionTwo];\n      directionIterator: for (var direction = 1; direction >= -1; direction -= 2) {\n        var topToBottom = direction == 1;\n        var from = topToBottom ? positionOne + 1 : positionTwo - 1;\n        var to = topToBottom ? positionTwo : positionOne;\n        var delta = topToBottom ? 1 : -1;\n        var moved = topToBottom ? tokenOne : tokenTwo;\n        var target = topToBottom ? tokenTwo : tokenOne;\n        var movedProperties = extractProperties(moved);\n        while (from != to) {\n          var traversedProperties = extractProperties(tokens[from]);\n          from += delta;\n\n          // traversed then moved as we move selectors towards the start\n          var reorderable = topToBottom ? canReorder(movedProperties, traversedProperties, specificityCache) : canReorder(traversedProperties, movedProperties, specificityCache);\n          if (!reorderable && !topToBottom) {\n            continue selectorIterator;\n          }\n          if (!reorderable && topToBottom) {\n            continue directionIterator;\n          }\n        }\n        if (topToBottom) {\n          Array.prototype.push.apply(moved[2], target[2]);\n          target[2] = moved[2];\n        } else {\n          Array.prototype.push.apply(target[2], moved[2]);\n        }\n        optimizeProperties(target[2], true, true, context);\n        moved[2] = [];\n      }\n    }\n  }\n}\nmodule.exports = mergeNonAdjacentBySelector;","map":{"version":3,"names":["canReorder","require","extractProperties","optimizeProperties","serializeRules","rules","Token","mergeNonAdjacentBySelector","tokens","context","specificityCache","cache","specificity","allSelectors","repeatedSelectors","i","length","RULE","selector","concat","push","positions","selectorIterator","j","positionOne","tokenOne","positionTwo","tokenTwo","directionIterator","direction","topToBottom","from","to","delta","moved","target","movedProperties","traversedProperties","reorderable","Array","prototype","apply","module","exports"],"sources":["C:/Users/chest/OneDrive/Documentos/GitHub/HackUPC/frontend/node_modules/clean-css/lib/optimizer/level-2/merge-non-adjacent-by-selector.js"],"sourcesContent":["var canReorder = require('./reorderable').canReorder;\nvar extractProperties = require('./extract-properties');\n\nvar optimizeProperties = require('./properties/optimize');\n\nvar serializeRules = require('../../writer/one-time').rules;\n\nvar Token = require('../../tokenizer/token');\n\nfunction mergeNonAdjacentBySelector(tokens, context) {\n  var specificityCache = context.cache.specificity;\n  var allSelectors = {};\n  var repeatedSelectors = [];\n  var i;\n\n  for (i = tokens.length - 1; i >= 0; i--) {\n    if (tokens[i][0] != Token.RULE) { continue; }\n    if (tokens[i][2].length === 0) { continue; }\n\n    var selector = serializeRules(tokens[i][1]);\n    allSelectors[selector] = [i].concat(allSelectors[selector] || []);\n\n    if (allSelectors[selector].length == 2) { repeatedSelectors.push(selector); }\n  }\n\n  for (i = repeatedSelectors.length - 1; i >= 0; i--) {\n    var positions = allSelectors[repeatedSelectors[i]];\n\n    selectorIterator:\n    for (var j = positions.length - 1; j > 0; j--) {\n      var positionOne = positions[j - 1];\n      var tokenOne = tokens[positionOne];\n      var positionTwo = positions[j];\n      var tokenTwo = tokens[positionTwo];\n\n      directionIterator:\n      for (var direction = 1; direction >= -1; direction -= 2) {\n        var topToBottom = direction == 1;\n        var from = topToBottom ? positionOne + 1 : positionTwo - 1;\n        var to = topToBottom ? positionTwo : positionOne;\n        var delta = topToBottom ? 1 : -1;\n        var moved = topToBottom ? tokenOne : tokenTwo;\n        var target = topToBottom ? tokenTwo : tokenOne;\n        var movedProperties = extractProperties(moved);\n\n        while (from != to) {\n          var traversedProperties = extractProperties(tokens[from]);\n          from += delta;\n\n          // traversed then moved as we move selectors towards the start\n          var reorderable = topToBottom\n            ? canReorder(movedProperties, traversedProperties, specificityCache)\n            : canReorder(traversedProperties, movedProperties, specificityCache);\n\n          if (!reorderable && !topToBottom) { continue selectorIterator; }\n          if (!reorderable && topToBottom) { continue directionIterator; }\n        }\n\n        if (topToBottom) {\n          Array.prototype.push.apply(moved[2], target[2]);\n          target[2] = moved[2];\n        } else {\n          Array.prototype.push.apply(target[2], moved[2]);\n        }\n\n        optimizeProperties(target[2], true, true, context);\n        moved[2] = [];\n      }\n    }\n  }\n}\n\nmodule.exports = mergeNonAdjacentBySelector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}