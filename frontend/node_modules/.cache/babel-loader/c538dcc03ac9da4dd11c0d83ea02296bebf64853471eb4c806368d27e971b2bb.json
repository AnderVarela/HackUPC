{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst utils_1 = require(\"@typescript-eslint/utils\");\nconst util = __importStar(require(\"../util\"));\nexports.default = util.createRule({\n  name: 'no-this-alias',\n  meta: {\n    type: 'suggestion',\n    docs: {\n      description: 'Disallow aliasing `this`',\n      recommended: 'error'\n    },\n    schema: [{\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        allowDestructuring: {\n          description: 'Whether to ignore destructurings, such as `const { props, state } = this`.',\n          type: 'boolean'\n        },\n        allowedNames: {\n          description: 'Names to ignore, such as [\"self\"] for `const self = this;`.',\n          type: 'array',\n          items: {\n            type: 'string'\n          }\n        }\n      }\n    }],\n    messages: {\n      thisAssignment: \"Unexpected aliasing of 'this' to local variable.\",\n      thisDestructure: \"Unexpected aliasing of members of 'this' to local variables.\"\n    }\n  },\n  defaultOptions: [{\n    allowDestructuring: true,\n    allowedNames: []\n  }],\n  create(context, [{\n    allowDestructuring,\n    allowedNames\n  }]) {\n    return {\n      \"VariableDeclarator[init.type='ThisExpression'], AssignmentExpression[right.type='ThisExpression']\"(node) {\n        const id = node.type === utils_1.AST_NODE_TYPES.VariableDeclarator ? node.id : node.left;\n        if (allowDestructuring && id.type !== utils_1.AST_NODE_TYPES.Identifier) {\n          return;\n        }\n        const hasAllowedName = id.type === utils_1.AST_NODE_TYPES.Identifier ? allowedNames.includes(id.name) : false;\n        if (!hasAllowedName) {\n          context.report({\n            node: id,\n            messageId: id.type === utils_1.AST_NODE_TYPES.Identifier ? 'thisAssignment' : 'thisDestructure'\n          });\n        }\n      }\n    };\n  }\n});","map":{"version":3,"names":["utils_1","require","util","__importStar","exports","default","createRule","name","meta","type","docs","description","recommended","schema","additionalProperties","properties","allowDestructuring","allowedNames","items","messages","thisAssignment","thisDestructure","defaultOptions","create","context","VariableDeclarator[init.type='ThisExpression'], AssignmentExpression[right.type='ThisExpression']","node","id","AST_NODE_TYPES","VariableDeclarator","left","Identifier","hasAllowedName","includes","report","messageId"],"sources":["../../src/rules/no-this-alias.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,MAAAA,OAAA,GAAAC,OAAA;AAEA,MAAAC,IAAA,GAAAC,YAAA,CAAAF,OAAA;AAUAG,OAAA,CAAAC,OAAA,GAAeH,IAAI,CAACI,UAAU,CAAsB;EAClDC,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE;IACJC,IAAI,EAAE,YAAY;IAClBC,IAAI,EAAE;MACJC,WAAW,EAAE,0BAA0B;MACvCC,WAAW,EAAE;KACd;IACDC,MAAM,EAAE,CACN;MACEJ,IAAI,EAAE,QAAQ;MACdK,oBAAoB,EAAE,KAAK;MAC3BC,UAAU,EAAE;QACVC,kBAAkB,EAAE;UAClBL,WAAW,EACT,4EAA4E;UAC9EF,IAAI,EAAE;SACP;QACDQ,YAAY,EAAE;UACZN,WAAW,EACT,6DAA6D;UAC/DF,IAAI,EAAE,OAAO;UACbS,KAAK,EAAE;YACLT,IAAI,EAAE;;;;KAIb,CACF;IACDU,QAAQ,EAAE;MACRC,cAAc,EAAE,kDAAkD;MAClEC,eAAe,EACb;;GAEL;EACDC,cAAc,EAAE,CACd;IACEN,kBAAkB,EAAE,IAAI;IACxBC,YAAY,EAAE;GACf,CACF;EACDM,MAAMA,CAACC,OAAO,EAAE,CAAC;IAAER,kBAAkB;IAAEC;EAAY,CAAE,CAAC;IACpD,OAAO;MACL,mGAAmGQ,CACjGC,IAAiE;QAEjE,MAAMC,EAAE,GACND,IAAI,CAACjB,IAAI,KAAKT,OAAA,CAAA4B,cAAc,CAACC,kBAAkB,GAAGH,IAAI,CAACC,EAAE,GAAGD,IAAI,CAACI,IAAI;QACvE,IAAId,kBAAkB,IAAIW,EAAE,CAAClB,IAAI,KAAKT,OAAA,CAAA4B,cAAc,CAACG,UAAU,EAAE;UAC/D;;QAGF,MAAMC,cAAc,GAClBL,EAAE,CAAClB,IAAI,KAAKT,OAAA,CAAA4B,cAAc,CAACG,UAAU,GACjCd,YAAa,CAACgB,QAAQ,CAACN,EAAE,CAACpB,IAAI,CAAC,GAC/B,KAAK;QACX,IAAI,CAACyB,cAAc,EAAE;UACnBR,OAAO,CAACU,MAAM,CAAC;YACbR,IAAI,EAAEC,EAAE;YACRQ,SAAS,EACPR,EAAE,CAAClB,IAAI,KAAKT,OAAA,CAAA4B,cAAc,CAACG,UAAU,GACjC,gBAAgB,GAChB;WACP,CAAC;;MAEN;KACD;EACH;CACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}