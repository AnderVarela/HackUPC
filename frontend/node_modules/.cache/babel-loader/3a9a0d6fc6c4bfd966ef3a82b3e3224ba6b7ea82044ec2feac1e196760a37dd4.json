{"ast":null,"code":"\"use strict\";\n\nmodule.exports = function (Promise, Context, enableAsyncHooks, disableAsyncHooks) {\n  var async = Promise._async;\n  var Warning = require(\"./errors\").Warning;\n  var util = require(\"./util\");\n  var es5 = require(\"./es5\");\n  var canAttachTrace = util.canAttachTrace;\n  var unhandledRejectionHandled;\n  var possiblyUnhandledRejection;\n  var bluebirdFramePattern = /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\n  var nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\n  var parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\n  var stackFramePattern = null;\n  var formatStack = null;\n  var indentStackFrames = false;\n  var printWarning;\n  var debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 && (false || util.env(\"BLUEBIRD_DEBUG\") || util.env(\"NODE_ENV\") === \"development\"));\n  var warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 && (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n  var longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 && (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n  var wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 && (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n  var deferUnhandledRejectionCheck;\n  (function () {\n    var promises = [];\n    function unhandledRejectionCheck() {\n      for (var i = 0; i < promises.length; ++i) {\n        promises[i]._notifyUnhandledRejection();\n      }\n      unhandledRejectionClear();\n    }\n    function unhandledRejectionClear() {\n      promises.length = 0;\n    }\n    deferUnhandledRejectionCheck = function (promise) {\n      promises.push(promise);\n      setTimeout(unhandledRejectionCheck, 1);\n    };\n    es5.defineProperty(Promise, \"_unhandledRejectionCheck\", {\n      value: unhandledRejectionCheck\n    });\n    es5.defineProperty(Promise, \"_unhandledRejectionClear\", {\n      value: unhandledRejectionClear\n    });\n  })();\n  Promise.prototype.suppressUnhandledRejections = function () {\n    var target = this._target();\n    target._bitField = target._bitField & ~1048576 | 524288;\n  };\n  Promise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    deferUnhandledRejectionCheck(this);\n  };\n  Promise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\", unhandledRejectionHandled, undefined, this);\n  };\n  Promise.prototype._setReturnedNonUndefined = function () {\n    this._bitField = this._bitField | 268435456;\n  };\n  Promise.prototype._returnedNonUndefined = function () {\n    return (this._bitField & 268435456) !== 0;\n  };\n  Promise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n      var reason = this._settledValue();\n      this._setUnhandledRejectionIsNotified();\n      fireRejectionEvent(\"unhandledRejection\", possiblyUnhandledRejection, reason, this);\n    }\n  };\n  Promise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n  };\n  Promise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & ~262144;\n  };\n  Promise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n  };\n  Promise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n  };\n  Promise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & ~1048576;\n    if (this._isUnhandledRejectionNotified()) {\n      this._unsetUnhandledRejectionIsNotified();\n      this._notifyUnhandledRejectionIsHandled();\n    }\n  };\n  Promise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n  };\n  Promise.prototype._warn = function (message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n  };\n  Promise.onPossiblyUnhandledRejection = function (fn) {\n    var context = Promise._getContext();\n    possiblyUnhandledRejection = util.contextBind(context, fn);\n  };\n  Promise.onUnhandledRejectionHandled = function (fn) {\n    var context = Promise._getContext();\n    unhandledRejectionHandled = util.contextBind(context, fn);\n  };\n  var disableLongStackTraces = function () {};\n  Promise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n      throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n      var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n      var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n      var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n      config.longStackTraces = true;\n      disableLongStackTraces = function () {\n        if (async.haveItemsQueued() && !config.longStackTraces) {\n          throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n        }\n        Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n        Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n        Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n        Context.deactivateLongStackTraces();\n        config.longStackTraces = false;\n      };\n      Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n      Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n      Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n      Context.activateLongStackTraces();\n    }\n  };\n  Promise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n  };\n  var legacyHandlers = {\n    unhandledrejection: {\n      before: function () {\n        var ret = util.global.onunhandledrejection;\n        util.global.onunhandledrejection = null;\n        return ret;\n      },\n      after: function (fn) {\n        util.global.onunhandledrejection = fn;\n      }\n    },\n    rejectionhandled: {\n      before: function () {\n        var ret = util.global.onrejectionhandled;\n        util.global.onrejectionhandled = null;\n        return ret;\n      },\n      after: function (fn) {\n        util.global.onrejectionhandled = fn;\n      }\n    }\n  };\n  var fireDomEvent = function () {\n    var dispatch = function (legacy, e) {\n      if (legacy) {\n        var fn;\n        try {\n          fn = legacy.before();\n          return !util.global.dispatchEvent(e);\n        } finally {\n          legacy.after(fn);\n        }\n      } else {\n        return !util.global.dispatchEvent(e);\n      }\n    };\n    try {\n      if (typeof CustomEvent === \"function\") {\n        var event = new CustomEvent(\"CustomEvent\");\n        util.global.dispatchEvent(event);\n        return function (name, event) {\n          name = name.toLowerCase();\n          var eventData = {\n            detail: event,\n            cancelable: true\n          };\n          var domEvent = new CustomEvent(name, eventData);\n          es5.defineProperty(domEvent, \"promise\", {\n            value: event.promise\n          });\n          es5.defineProperty(domEvent, \"reason\", {\n            value: event.reason\n          });\n          return dispatch(legacyHandlers[name], domEvent);\n        };\n      } else if (typeof Event === \"function\") {\n        var event = new Event(\"CustomEvent\");\n        util.global.dispatchEvent(event);\n        return function (name, event) {\n          name = name.toLowerCase();\n          var domEvent = new Event(name, {\n            cancelable: true\n          });\n          domEvent.detail = event;\n          es5.defineProperty(domEvent, \"promise\", {\n            value: event.promise\n          });\n          es5.defineProperty(domEvent, \"reason\", {\n            value: event.reason\n          });\n          return dispatch(legacyHandlers[name], domEvent);\n        };\n      } else {\n        var event = document.createEvent(\"CustomEvent\");\n        event.initCustomEvent(\"testingtheevent\", false, true, {});\n        util.global.dispatchEvent(event);\n        return function (name, event) {\n          name = name.toLowerCase();\n          var domEvent = document.createEvent(\"CustomEvent\");\n          domEvent.initCustomEvent(name, false, true, event);\n          return dispatch(legacyHandlers[name], domEvent);\n        };\n      }\n    } catch (e) {}\n    return function () {\n      return false;\n    };\n  }();\n  var fireGlobalEvent = function () {\n    if (util.isNode) {\n      return function () {\n        return process.emit.apply(process, arguments);\n      };\n    } else {\n      if (!util.global) {\n        return function () {\n          return false;\n        };\n      }\n      return function (name) {\n        var methodName = \"on\" + name.toLowerCase();\n        var method = util.global[methodName];\n        if (!method) return false;\n        method.apply(util.global, [].slice.call(arguments, 1));\n        return true;\n      };\n    }\n  }();\n  function generatePromiseLifecycleEventObject(name, promise) {\n    return {\n      promise: promise\n    };\n  }\n  var eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function (name, promise, child) {\n      return {\n        promise: promise,\n        child: child\n      };\n    },\n    warning: function (name, warning) {\n      return {\n        warning: warning\n      };\n    },\n    unhandledRejection: function (name, reason, promise) {\n      return {\n        reason: reason,\n        promise: promise\n      };\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n  };\n  var activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n      globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n      async.throwLater(e);\n      globalEventFired = true;\n    }\n    var domEventFired = false;\n    try {\n      domEventFired = fireDomEvent(name, eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n      async.throwLater(e);\n      domEventFired = true;\n    }\n    return domEventFired || globalEventFired;\n  };\n  Promise.config = function (opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n      if (opts.longStackTraces) {\n        Promise.longStackTraces();\n      } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n        disableLongStackTraces();\n      }\n    }\n    if (\"warnings\" in opts) {\n      var warningsOption = opts.warnings;\n      config.warnings = !!warningsOption;\n      wForgottenReturn = config.warnings;\n      if (util.isObject(warningsOption)) {\n        if (\"wForgottenReturn\" in warningsOption) {\n          wForgottenReturn = !!warningsOption.wForgottenReturn;\n        }\n      }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n      if (async.haveItemsQueued()) {\n        throw new Error(\"cannot enable cancellation after promises are in use\");\n      }\n      Promise.prototype._clearCancellationData = cancellationClearCancellationData;\n      Promise.prototype._propagateFrom = cancellationPropagateFrom;\n      Promise.prototype._onCancel = cancellationOnCancel;\n      Promise.prototype._setOnCancel = cancellationSetOnCancel;\n      Promise.prototype._attachCancellationCallback = cancellationAttachCancellationCallback;\n      Promise.prototype._execute = cancellationExecute;\n      propagateFromFunction = cancellationPropagateFrom;\n      config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n      if (opts.monitoring && !config.monitoring) {\n        config.monitoring = true;\n        Promise.prototype._fireEvent = activeFireEvent;\n      } else if (!opts.monitoring && config.monitoring) {\n        config.monitoring = false;\n        Promise.prototype._fireEvent = defaultFireEvent;\n      }\n    }\n    if (\"asyncHooks\" in opts && util.nodeSupportsAsyncResource) {\n      var prev = config.asyncHooks;\n      var cur = !!opts.asyncHooks;\n      if (prev !== cur) {\n        config.asyncHooks = cur;\n        if (cur) {\n          enableAsyncHooks();\n        } else {\n          disableAsyncHooks();\n        }\n      }\n    }\n    return Promise;\n  };\n  function defaultFireEvent() {\n    return false;\n  }\n  Promise.prototype._fireEvent = defaultFireEvent;\n  Promise.prototype._execute = function (executor, resolve, reject) {\n    try {\n      executor(resolve, reject);\n    } catch (e) {\n      return e;\n    }\n  };\n  Promise.prototype._onCancel = function () {};\n  Promise.prototype._setOnCancel = function (handler) {\n    ;\n  };\n  Promise.prototype._attachCancellationCallback = function (onCancel) {\n    ;\n  };\n  Promise.prototype._captureStackTrace = function () {};\n  Promise.prototype._attachExtraTrace = function () {};\n  Promise.prototype._dereferenceTrace = function () {};\n  Promise.prototype._clearCancellationData = function () {};\n  Promise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n  };\n  function cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n      executor(resolve, reject, function (onCancel) {\n        if (typeof onCancel !== \"function\") {\n          throw new TypeError(\"onCancel must be a function, got: \" + util.toString(onCancel));\n        }\n        promise._attachCancellationCallback(onCancel);\n      });\n    } catch (e) {\n      return e;\n    }\n  }\n  function cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n      if (util.isArray(previousOnCancel)) {\n        previousOnCancel.push(onCancel);\n      } else {\n        this._setOnCancel([previousOnCancel, onCancel]);\n      }\n    } else {\n      this._setOnCancel(onCancel);\n    }\n  }\n  function cancellationOnCancel() {\n    return this._onCancelField;\n  }\n  function cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n  }\n  function cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n  }\n  function cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n      this._cancellationParent = parent;\n      var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n      if (branchesRemainingToCancel === undefined) {\n        branchesRemainingToCancel = 0;\n      }\n      parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n      this._setBoundTo(parent._boundTo);\n    }\n  }\n  function bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n      this._setBoundTo(parent._boundTo);\n    }\n  }\n  var propagateFromFunction = bindingPropagateFrom;\n  function boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n      if (ret instanceof Promise) {\n        if (ret.isFulfilled()) {\n          return ret.value();\n        } else {\n          return undefined;\n        }\n      }\n    }\n    return ret;\n  }\n  function longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n  }\n  function longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n      var trace = this._trace;\n      if (trace !== undefined) {\n        if (ignoreSelf) trace = trace._parent;\n      }\n      if (trace !== undefined) {\n        trace.attachExtraTrace(error);\n      } else if (!error.__stackCleaned__) {\n        var parsed = parseStackAndMessage(error);\n        util.notEnumerableProp(error, \"stack\", parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n        util.notEnumerableProp(error, \"__stackCleaned__\", true);\n      }\n    }\n  }\n  function longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n  }\n  function checkForgottenReturns(returnValue, promiseCreated, name, promise, parent) {\n    if (returnValue === undefined && promiseCreated !== null && wForgottenReturn) {\n      if (parent !== undefined && parent._returnedNonUndefined()) return;\n      if ((promise._bitField & 65535) === 0) return;\n      if (name) name = name + \" \";\n      var handlerLine = \"\";\n      var creatorLine = \"\";\n      if (promiseCreated._trace) {\n        var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n        var stack = cleanStack(traceLines);\n        for (var i = stack.length - 1; i >= 0; --i) {\n          var line = stack[i];\n          if (!nodeFramePattern.test(line)) {\n            var lineMatches = line.match(parseLinePattern);\n            if (lineMatches) {\n              handlerLine = \"at \" + lineMatches[1] + \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n            }\n            break;\n          }\n        }\n        if (stack.length > 0) {\n          var firstUserLine = stack[0];\n          for (var i = 0; i < traceLines.length; ++i) {\n            if (traceLines[i] === firstUserLine) {\n              if (i > 0) {\n                creatorLine = \"\\n\" + traceLines[i - 1];\n              }\n              break;\n            }\n          }\n        }\n      }\n      var msg = \"a promise was created in a \" + name + \"handler \" + handlerLine + \"but was not returned from it, \" + \"see http://goo.gl/rRqMUw\" + creatorLine;\n      promise._warn(msg, true, promiseCreated);\n    }\n  }\n  function deprecated(name, replacement) {\n    var message = name + \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n  }\n  function warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n      promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n      ctx.attachExtraTrace(warning);\n    } else {\n      var parsed = parseStackAndMessage(warning);\n      warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n    if (!activeFireEvent(\"warning\", warning)) {\n      formatAndLogError(warning, \"\", true);\n    }\n  }\n  function reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n      stacks[i].push(\"From previous event:\");\n      stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n      stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n  }\n  function removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n      if (stacks[i].length === 0 || i + 1 < stacks.length && stacks[i][0] === stacks[i + 1][0]) {\n        stacks.splice(i, 1);\n        i--;\n      }\n    }\n  }\n  function removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n      var prev = stacks[i];\n      var currentLastIndex = current.length - 1;\n      var currentLastLine = current[currentLastIndex];\n      var commonRootMeetPoint = -1;\n      for (var j = prev.length - 1; j >= 0; --j) {\n        if (prev[j] === currentLastLine) {\n          commonRootMeetPoint = j;\n          break;\n        }\n      }\n      for (var j = commonRootMeetPoint; j >= 0; --j) {\n        var line = prev[j];\n        if (current[currentLastIndex] === line) {\n          current.pop();\n          currentLastIndex--;\n        } else {\n          break;\n        }\n      }\n      current = prev;\n    }\n  }\n  function cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n      var line = stack[i];\n      var isTraceLine = \"    (No stack trace)\" === line || stackFramePattern.test(line);\n      var isInternalFrame = isTraceLine && shouldIgnore(line);\n      if (isTraceLine && !isInternalFrame) {\n        if (indentStackFrames && line.charAt(0) !== \" \") {\n          line = \"    \" + line;\n        }\n        ret.push(line);\n      }\n    }\n    return ret;\n  }\n  function stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n      var line = stack[i];\n      if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n        break;\n      }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n      stack = stack.slice(i);\n    }\n    return stack;\n  }\n  function parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0 ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n      message: message,\n      stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n  }\n  function formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n      var message;\n      if (util.isObject(error)) {\n        var stack = error.stack;\n        message = title + formatStack(stack, error);\n      } else {\n        message = title + String(error);\n      }\n      if (typeof printWarning === \"function\") {\n        printWarning(message, isSoft);\n      } else if (typeof console.log === \"function\" || typeof console.log === \"object\") {\n        console.log(message);\n      }\n    }\n  }\n  function fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n      if (typeof localHandler === \"function\") {\n        localEventFired = true;\n        if (name === \"rejectionHandled\") {\n          localHandler(promise);\n        } else {\n          localHandler(reason, promise);\n        }\n      }\n    } catch (e) {\n      async.throwLater(e);\n    }\n    if (name === \"unhandledRejection\") {\n      if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n        formatAndLogError(reason, \"Unhandled rejection \");\n      }\n    } else {\n      activeFireEvent(name, promise);\n    }\n  }\n  function formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n      str = \"[function \" + (obj.name || \"anonymous\") + \"]\";\n    } else {\n      str = obj && typeof obj.toString === \"function\" ? obj.toString() : util.toString(obj);\n      var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n      if (ruselessToString.test(str)) {\n        try {\n          var newStr = JSON.stringify(obj);\n          str = newStr;\n        } catch (e) {}\n      }\n      if (str.length === 0) {\n        str = \"(empty array)\";\n      }\n    }\n    return \"(<\" + snip(str) + \">, no stack trace)\";\n  }\n  function snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n      return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n  }\n  function longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n  }\n  var shouldIgnore = function () {\n    return false;\n  };\n  var parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\n  function parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n      return {\n        fileName: matches[1],\n        line: parseInt(matches[2], 10)\n      };\n    }\n  }\n  function setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = (firstLineError.stack || \"\").split(\"\\n\");\n    var lastStackLines = (lastLineError.stack || \"\").split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n      var result = parseLineInfo(firstStackLines[i]);\n      if (result) {\n        firstFileName = result.fileName;\n        firstIndex = result.line;\n        break;\n      }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n      var result = parseLineInfo(lastStackLines[i]);\n      if (result) {\n        lastFileName = result.fileName;\n        lastIndex = result.line;\n        break;\n      }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName || firstFileName !== lastFileName || firstIndex >= lastIndex) {\n      return;\n    }\n    shouldIgnore = function (line) {\n      if (bluebirdFramePattern.test(line)) return true;\n      var info = parseLineInfo(line);\n      if (info) {\n        if (info.fileName === firstFileName && firstIndex <= info.line && info.line <= lastIndex) {\n          return true;\n        }\n      }\n      return false;\n    };\n  }\n  function CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n  }\n  util.inherits(CapturedTrace, Error);\n  Context.CapturedTrace = CapturedTrace;\n  CapturedTrace.prototype.uncycle = function () {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n    for (var i = 0, node = this; node !== undefined; ++i) {\n      nodes.push(node);\n      node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n      var stack = nodes[i].stack;\n      if (stackToIndex[stack] === undefined) {\n        stackToIndex[stack] = i;\n      }\n    }\n    for (var i = 0; i < length; ++i) {\n      var currentStack = nodes[i].stack;\n      var index = stackToIndex[currentStack];\n      if (index !== undefined && index !== i) {\n        if (index > 0) {\n          nodes[index - 1]._parent = undefined;\n          nodes[index - 1]._length = 1;\n        }\n        nodes[i]._parent = undefined;\n        nodes[i]._length = 1;\n        var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n        if (index < length - 1) {\n          cycleEdgeNode._parent = nodes[index + 1];\n          cycleEdgeNode._parent.uncycle();\n          cycleEdgeNode._length = cycleEdgeNode._parent._length + 1;\n        } else {\n          cycleEdgeNode._parent = undefined;\n          cycleEdgeNode._length = 1;\n        }\n        var currentChildLength = cycleEdgeNode._length + 1;\n        for (var j = i - 2; j >= 0; --j) {\n          nodes[j]._length = currentChildLength;\n          currentChildLength++;\n        }\n        return;\n      }\n    }\n  };\n  CapturedTrace.prototype.attachExtraTrace = function (error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n    var trace = this;\n    while (trace !== undefined) {\n      stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n      trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n  };\n  var captureStackTrace = function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function (stack, error) {\n      if (typeof stack === \"string\") return stack;\n      if (error.name !== undefined && error.message !== undefined) {\n        return error.toString();\n      }\n      return formatNonError(error);\n    };\n    if (typeof Error.stackTraceLimit === \"number\" && typeof Error.captureStackTrace === \"function\") {\n      Error.stackTraceLimit += 6;\n      stackFramePattern = v8stackFramePattern;\n      formatStack = v8stackFormatter;\n      var captureStackTrace = Error.captureStackTrace;\n      shouldIgnore = function (line) {\n        return bluebirdFramePattern.test(line);\n      };\n      return function (receiver, ignoreUntil) {\n        Error.stackTraceLimit += 6;\n        captureStackTrace(receiver, ignoreUntil);\n        Error.stackTraceLimit -= 6;\n      };\n    }\n    var err = new Error();\n    if (typeof err.stack === \"string\" && err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n      stackFramePattern = /@/;\n      formatStack = v8stackFormatter;\n      indentStackFrames = true;\n      return function captureStackTrace(o) {\n        o.stack = new Error().stack;\n      };\n    }\n    var hasStackAfterThrow;\n    try {\n      throw new Error();\n    } catch (e) {\n      hasStackAfterThrow = \"stack\" in e;\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow && typeof Error.stackTraceLimit === \"number\") {\n      stackFramePattern = v8stackFramePattern;\n      formatStack = v8stackFormatter;\n      return function captureStackTrace(o) {\n        Error.stackTraceLimit += 6;\n        try {\n          throw new Error();\n        } catch (e) {\n          o.stack = e.stack;\n        }\n        Error.stackTraceLimit -= 6;\n      };\n    }\n    formatStack = function (stack, error) {\n      if (typeof stack === \"string\") return stack;\n      if ((typeof error === \"object\" || typeof error === \"function\") && error.name !== undefined && error.message !== undefined) {\n        return error.toString();\n      }\n      return formatNonError(error);\n    };\n    return null;\n  }([]);\n  if (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n      console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n      printWarning = function (message, isSoft) {\n        var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n        console.warn(color + message + \"\\u001b[0m\\n\");\n      };\n    } else if (!util.isNode && typeof new Error().stack === \"string\") {\n      printWarning = function (message, isSoft) {\n        console.warn(\"%c\" + message, isSoft ? \"color: darkorange\" : \"color: red\");\n      };\n    }\n  }\n  var config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false,\n    asyncHooks: false\n  };\n  if (longStackTraces) Promise.longStackTraces();\n  return {\n    asyncHooks: function () {\n      return config.asyncHooks;\n    },\n    longStackTraces: function () {\n      return config.longStackTraces;\n    },\n    warnings: function () {\n      return config.warnings;\n    },\n    cancellation: function () {\n      return config.cancellation;\n    },\n    monitoring: function () {\n      return config.monitoring;\n    },\n    propagateFromFunction: function () {\n      return propagateFromFunction;\n    },\n    boundValueFunction: function () {\n      return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n  };\n};","map":{"version":3,"names":["module","exports","Promise","Context","enableAsyncHooks","disableAsyncHooks","async","_async","Warning","require","util","es5","canAttachTrace","unhandledRejectionHandled","possiblyUnhandledRejection","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","printWarning","debugging","env","warnings","longStackTraces","wForgottenReturn","deferUnhandledRejectionCheck","promises","unhandledRejectionCheck","i","length","_notifyUnhandledRejection","unhandledRejectionClear","promise","push","setTimeout","defineProperty","value","prototype","suppressUnhandledRejections","target","_target","_bitField","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","undefined","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","reason","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","_warn","message","shouldUseOwnTrace","warn","onPossiblyUnhandledRejection","fn","context","_getContext","contextBind","onUnhandledRejectionHandled","disableLongStackTraces","haveItemsQueued","config","Error","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","_attachExtraTrace","Promise_dereferenceTrace","_dereferenceTrace","deactivateLongStackTraces","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","longStackTracesDereferenceTrace","activateLongStackTraces","hasLongStackTraces","legacyHandlers","unhandledrejection","before","ret","global","onunhandledrejection","after","rejectionhandled","onrejectionhandled","fireDomEvent","dispatch","legacy","e","dispatchEvent","CustomEvent","event","name","toLowerCase","eventData","detail","cancelable","domEvent","Event","document","createEvent","initCustomEvent","fireGlobalEvent","isNode","process","emit","apply","arguments","methodName","method","slice","call","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","child","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","throwLater","domEventFired","opts","Object","warningsOption","isObject","cancellation","_clearCancellationData","cancellationClearCancellationData","_propagateFrom","cancellationPropagateFrom","_onCancel","cancellationOnCancel","_setOnCancel","cancellationSetOnCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","_execute","cancellationExecute","propagateFromFunction","monitoring","_fireEvent","defaultFireEvent","nodeSupportsAsyncResource","prev","asyncHooks","cur","executor","resolve","reject","handler","onCancel","parent","flags","TypeError","toString","_isCancellable","previousOnCancel","isArray","_onCancelField","_cancellationParent","branchesRemainingToCancel","_branchesRemainingToCancel","_isBound","_setBoundTo","_boundTo","bindingPropagateFrom","boundValueFunction","isFulfilled","_trace","CapturedTrace","_peekContext","error","ignoreSelf","trace","_parent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","notEnumerableProp","stack","join","checkForgottenReturns","returnValue","handlerLine","creatorLine","traceLines","split","cleanStack","line","test","lineMatches","match","firstUserLine","msg","deprecated","replacement","ctx","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","splice","removeCommonRoots","current","currentLastIndex","currentLastLine","commonRootMeetPoint","j","pop","isTraceLine","isInternalFrame","shouldIgnore","charAt","stackFramesAsArray","replace","title","isSoft","console","String","log","localHandler","localEventFired","formatNonError","obj","str","ruselessToString","newStr","JSON","stringify","snip","maxChars","substr","captureStackTrace","parseLineInfoRegex","parseLineInfo","matches","fileName","parseInt","setBounds","firstLineError","lastLineError","firstStackLines","lastStackLines","firstIndex","lastIndex","firstFileName","lastFileName","result","info","_promisesCreated","_length","uncycle","inherits","nodes","stackToIndex","node","currentStack","index","cycleEdgeNode","currentChildLength","stackDetection","v8stackFramePattern","v8stackFormatter","stackTraceLimit","receiver","ignoreUntil","err","indexOf","o","hasStackAfterThrow","stderr","isTTY","color"],"sources":["C:/Users/chest/OneDrive/Documentos/GitHub/HackUPC/frontend/node_modules/bluebird/js/release/debuggability.js"],"sourcesContent":["\"use strict\";\nmodule.exports = function(Promise, Context,\n    enableAsyncHooks, disableAsyncHooks) {\nvar async = Promise._async;\nvar Warning = require(\"./errors\").Warning;\nvar util = require(\"./util\");\nvar es5 = require(\"./es5\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (false ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nvar deferUnhandledRejectionCheck;\n(function() {\n    var promises = [];\n\n    function unhandledRejectionCheck() {\n        for (var i = 0; i < promises.length; ++i) {\n            promises[i]._notifyUnhandledRejection();\n        }\n        unhandledRejectionClear();\n    }\n\n    function unhandledRejectionClear() {\n        promises.length = 0;\n    }\n\n    deferUnhandledRejectionCheck = function(promise) {\n        promises.push(promise);\n        setTimeout(unhandledRejectionCheck, 1);\n    };\n\n    es5.defineProperty(Promise, \"_unhandledRejectionCheck\", {\n        value: unhandledRejectionCheck\n    });\n    es5.defineProperty(Promise, \"_unhandledRejectionClear\", {\n        value: unhandledRejectionClear\n    });\n})();\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    deferUnhandledRejectionCheck(this);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var context = Promise._getContext();\n    possiblyUnhandledRejection = util.contextBind(context, fn);\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var context = Promise._getContext();\n    unhandledRejectionHandled = util.contextBind(context, fn);\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\n\nvar legacyHandlers = {\n    unhandledrejection: {\n        before: function() {\n            var ret = util.global.onunhandledrejection;\n            util.global.onunhandledrejection = null;\n            return ret;\n        },\n        after: function(fn) {\n            util.global.onunhandledrejection = fn;\n        }\n    },\n    rejectionhandled: {\n        before: function() {\n            var ret = util.global.onrejectionhandled;\n            util.global.onrejectionhandled = null;\n            return ret;\n        },\n        after: function(fn) {\n            util.global.onrejectionhandled = fn;\n        }\n    }\n};\n\nvar fireDomEvent = (function() {\n    var dispatch = function(legacy, e) {\n        if (legacy) {\n            var fn;\n            try {\n                fn = legacy.before();\n                return !util.global.dispatchEvent(e);\n            } finally {\n                legacy.after(fn);\n            }\n        } else {\n            return !util.global.dispatchEvent(e);\n        }\n    };\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                name = name.toLowerCase();\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                var domEvent = new CustomEvent(name, eventData);\n                es5.defineProperty(\n                    domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(\n                    domEvent, \"reason\", {value: event.reason});\n\n                return dispatch(legacyHandlers[name], domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                name = name.toLowerCase();\n                var domEvent = new Event(name, {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return dispatch(legacyHandlers[name], domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                name = name.toLowerCase();\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name, false, true,\n                    event);\n                return dispatch(legacyHandlers[name], domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    if (\"asyncHooks\" in opts && util.nodeSupportsAsyncResource) {\n        var prev = config.asyncHooks;\n        var cur = !!opts.asyncHooks;\n        if (prev !== cur) {\n            config.asyncHooks = cur;\n            if (cur) {\n                enableAsyncHooks();\n            } else {\n                disableAsyncHooks();\n            }\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = (firstLineError.stack || \"\").split(\"\\n\");\n    var lastStackLines = (lastLineError.stack || \"\").split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false,\n    asyncHooks: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    asyncHooks: function() {\n        return config.asyncHooks;\n    },\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}