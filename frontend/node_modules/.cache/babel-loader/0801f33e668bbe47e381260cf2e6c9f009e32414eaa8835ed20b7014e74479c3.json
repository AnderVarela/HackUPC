{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toType = exports.toString = void 0;\nconst Prefix = name => {\n  return '_' + name;\n};\nconst AllowedProp = key => {\n  let keys = ['name', 'protocol', 'subtype'];\n  return keys.includes(key);\n};\nconst toString = data => {\n  let formatted = {\n    name: data.name,\n    protocol: data.protocol,\n    subtype: data.subtype\n  };\n  let entries = Object.entries(formatted);\n  return entries.filter(([key, val]) => AllowedProp(key) && val !== undefined).reduce((prev, [key, val]) => {\n    switch (typeof val) {\n      case 'object':\n        val.map(i => prev.push(Prefix(i)));\n        break;\n      default:\n        prev.push(Prefix(val));\n        break;\n    }\n    return prev;\n  }, []).join('.');\n};\nexports.toString = toString;\nconst toType = string => {\n  let parts = string.split('.');\n  let subtype;\n  for (let i in parts) {\n    if (parts[i][0] !== '_') continue;\n    parts[i] = parts[i].slice(1);\n  }\n  if (parts.includes('sub')) {\n    subtype = parts.shift();\n    parts.shift();\n  }\n  return {\n    name: parts.shift(),\n    protocol: parts.shift() || null,\n    subtype: subtype\n  };\n};\nexports.toType = toType;","map":{"version":3,"names":["Prefix","name","AllowedProp","key","keys","includes","toString","data","formatted","protocol","subtype","entries","Object","filter","val","undefined","reduce","prev","map","i","push","join","exports","toType","string","parts","split","slice","shift"],"sources":["../../src/lib/service-types.ts"],"sourcesContent":[null],"mappings":";;;;;;AAcA,MAAMA,MAAM,GAAIC,IAAY,IAAY;EACpC,OAAO,GAAG,GAAGA,IAAI;AACrB,CAAC;AAOD,MAAMC,WAAW,GAAIC,GAAW,IAAa;EACzC,IAAIC,IAAI,GAAkB,CAAC,MAAM,EAAC,UAAU,EAAC,SAAS,CAAC;EACvD,OAAOA,IAAI,CAACC,QAAQ,CAACF,GAAG,CAAC;AAC7B,CAAC;AAOM,MAAMG,QAAQ,GAAIC,IAAiB,IAAS;EAE/C,IAAIC,SAAS,GAAgB;IACzBP,IAAI,EAAUM,IAAI,CAACN,IAAI;IACvBQ,QAAQ,EAAMF,IAAI,CAACE,QAAQ;IAC3BC,OAAO,EAAMH,IAAI,CAACG;GACrB;EAED,IAAIC,OAAO,GAAeC,MAAM,CAACD,OAAO,CAACH,SAAS,CAAC;EACnD,OAAOG,OAAO,CACTE,MAAM,CAAC,CAAC,CAACV,GAAG,EAACW,GAAG,CAAC,KAAKZ,WAAW,CAACC,GAAG,CAAC,IAAIW,GAAG,KAAKC,SAAS,CAAC,CAC5DC,MAAM,CAAC,CAACC,IAAI,EAAE,CAACd,GAAG,EAACW,GAAG,CAAC,KAAI;IACxB,QAAO,OAAOA,GAAG;MACb,KAAK,QAAQ;QACTA,GAAG,CAACI,GAAG,CAAEC,CAAS,IAAKF,IAAI,CAACG,IAAI,CAACpB,MAAM,CAACmB,CAAC,CAAC,CAAC,CAAC;QAC5C;MACJ;QACIF,IAAI,CAACG,IAAI,CAACpB,MAAM,CAACc,GAAG,CAAC,CAAC;QACtB;;IAER,OAAOG,IAAI;EACf,CAAC,EAAC,EAAE,CAAC,CACJI,IAAI,CAAC,GAAG,CAAC;AAClB,CAAC;AAvBYC,OAAA,CAAAhB,QAAQ,GAAAA,QAAA;AA8Bd,MAAMiB,MAAM,GAAIC,MAAc,IAAiB;EAElD,IAAIC,KAAK,GAAkBD,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC;EAC5C,IAAIhB,OAA2B;EAG/B,KAAI,IAAIS,CAAC,IAAIM,KAAK,EAAE;IAChB,IAAIA,KAAK,CAACN,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;IACzBM,KAAK,CAACN,CAAC,CAAC,GAAGM,KAAK,CAACN,CAAC,CAAC,CAACQ,KAAK,CAAC,CAAC,CAAC;;EAGhC,IAAIF,KAAK,CAACpB,QAAQ,CAAC,KAAK,CAAC,EAAE;IACvBK,OAAO,GAAGe,KAAK,CAACG,KAAK,EAAE;IACvBH,KAAK,CAACG,KAAK,EAAE;;EAIjB,OAAO;IACH3B,IAAI,EAAEwB,KAAK,CAACG,KAAK,EAAE;IACnBnB,QAAQ,EAAEgB,KAAK,CAACG,KAAK,EAAE,IAAI,IAAI;IAC/BlB,OAAO,EAAEA;GACZ;AACL,CAAC;AAtBYY,OAAA,CAAAC,MAAM,GAAAA,MAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}