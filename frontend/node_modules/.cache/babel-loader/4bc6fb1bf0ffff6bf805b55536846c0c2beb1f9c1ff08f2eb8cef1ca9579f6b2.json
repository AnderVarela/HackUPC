{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseOptions = void 0;\nconst util = __importStar(require(\"../../util\"));\nconst enums_1 = require(\"./enums\");\nconst shared_1 = require(\"./shared\");\nconst validator_1 = require(\"./validator\");\nfunction normalizeOption(option) {\n  var _a, _b, _c, _d, _e, _f;\n  let weight = 0;\n  (_a = option.modifiers) === null || _a === void 0 ? void 0 : _a.forEach(mod => {\n    weight |= enums_1.Modifiers[mod];\n  });\n  (_b = option.types) === null || _b === void 0 ? void 0 : _b.forEach(mod => {\n    weight |= enums_1.TypeModifiers[mod];\n  });\n  // give selectors with a filter the _highest_ priority\n  if (option.filter) {\n    weight |= 1 << 30;\n  }\n  const normalizedOption = {\n    // format options\n    format: option.format ? option.format.map(f => enums_1.PredefinedFormats[f]) : null,\n    custom: option.custom ? {\n      regex: new RegExp(option.custom.regex, 'u'),\n      match: option.custom.match\n    } : null,\n    leadingUnderscore: option.leadingUnderscore !== undefined ? enums_1.UnderscoreOptions[option.leadingUnderscore] : null,\n    trailingUnderscore: option.trailingUnderscore !== undefined ? enums_1.UnderscoreOptions[option.trailingUnderscore] : null,\n    prefix: option.prefix && option.prefix.length > 0 ? option.prefix : null,\n    suffix: option.suffix && option.suffix.length > 0 ? option.suffix : null,\n    modifiers: (_d = (_c = option.modifiers) === null || _c === void 0 ? void 0 : _c.map(m => enums_1.Modifiers[m])) !== null && _d !== void 0 ? _d : null,\n    types: (_f = (_e = option.types) === null || _e === void 0 ? void 0 : _e.map(m => enums_1.TypeModifiers[m])) !== null && _f !== void 0 ? _f : null,\n    filter: option.filter !== undefined ? typeof option.filter === 'string' ? {\n      regex: new RegExp(option.filter, 'u'),\n      match: true\n    } : {\n      regex: new RegExp(option.filter.regex, 'u'),\n      match: option.filter.match\n    } : null,\n    // calculated ordering weight based on modifiers\n    modifierWeight: weight\n  };\n  const selectors = Array.isArray(option.selector) ? option.selector : [option.selector];\n  return selectors.map(selector => Object.assign({\n    selector: (0, shared_1.isMetaSelector)(selector) ? enums_1.MetaSelectors[selector] : enums_1.Selectors[selector]\n  }, normalizedOption));\n}\nfunction parseOptions(context) {\n  const normalizedOptions = context.options.map(opt => normalizeOption(opt)).reduce((acc, val) => acc.concat(val), []);\n  return util.getEnumNames(enums_1.Selectors).reduce((acc, k) => {\n    acc[k] = (0, validator_1.createValidator)(k, context, normalizedOptions);\n    return acc;\n  }, {});\n}\nexports.parseOptions = parseOptions;","map":{"version":3,"names":["util","__importStar","require","enums_1","shared_1","validator_1","normalizeOption","option","weight","_a","modifiers","forEach","mod","Modifiers","_b","types","TypeModifiers","filter","normalizedOption","format","map","f","PredefinedFormats","custom","regex","RegExp","match","leadingUnderscore","undefined","UnderscoreOptions","trailingUnderscore","prefix","length","suffix","_d","_c","m","_f","_e","modifierWeight","selectors","Array","isArray","selector","Object","assign","isMetaSelector","MetaSelectors","Selectors","parseOptions","context","normalizedOptions","options","opt","reduce","acc","val","concat","getEnumNames","k","createValidator","exports"],"sources":["../../../src/rules/naming-convention-utils/parse-options.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}