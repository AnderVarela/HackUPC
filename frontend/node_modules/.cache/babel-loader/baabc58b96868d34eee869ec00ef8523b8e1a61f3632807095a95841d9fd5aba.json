{"ast":null,"code":"'use strict';\n\nvar util = require('./_util');\nmodule.exports = function defFunc(ajv) {\n  if (!ajv._opts.$data) {\n    console.warn('keyword select requires $data option');\n    return ajv;\n  }\n  var metaSchemaRef = util.metaSchemaRef(ajv);\n  var compiledCaseSchemas = [];\n  defFunc.definition = {\n    validate: function v(schema, data, parentSchema) {\n      if (parentSchema.selectCases === undefined) throw new Error('keyword \"selectCases\" is absent');\n      var compiled = getCompiledSchemas(parentSchema, false);\n      var validate = compiled.cases[schema];\n      if (validate === undefined) validate = compiled.default;\n      if (typeof validate == 'boolean') return validate;\n      var valid = validate(data);\n      if (!valid) v.errors = validate.errors;\n      return valid;\n    },\n    $data: true,\n    metaSchema: {\n      type: ['string', 'number', 'boolean', 'null']\n    }\n  };\n  ajv.addKeyword('select', defFunc.definition);\n  ajv.addKeyword('selectCases', {\n    compile: function (schemas, parentSchema) {\n      var compiled = getCompiledSchemas(parentSchema);\n      for (var value in schemas) compiled.cases[value] = compileOrBoolean(schemas[value]);\n      return function () {\n        return true;\n      };\n    },\n    valid: true,\n    metaSchema: {\n      type: 'object',\n      additionalProperties: metaSchemaRef\n    }\n  });\n  ajv.addKeyword('selectDefault', {\n    compile: function (schema, parentSchema) {\n      var compiled = getCompiledSchemas(parentSchema);\n      compiled.default = compileOrBoolean(schema);\n      return function () {\n        return true;\n      };\n    },\n    valid: true,\n    metaSchema: metaSchemaRef\n  });\n  return ajv;\n  function getCompiledSchemas(parentSchema, create) {\n    var compiled;\n    compiledCaseSchemas.some(function (c) {\n      if (c.parentSchema === parentSchema) {\n        compiled = c;\n        return true;\n      }\n    });\n    if (!compiled && create !== false) {\n      compiled = {\n        parentSchema: parentSchema,\n        cases: {},\n        default: true\n      };\n      compiledCaseSchemas.push(compiled);\n    }\n    return compiled;\n  }\n  function compileOrBoolean(schema) {\n    return typeof schema == 'boolean' ? schema : ajv.compile(schema);\n  }\n};","map":{"version":3,"names":["util","require","module","exports","defFunc","ajv","_opts","$data","console","warn","metaSchemaRef","compiledCaseSchemas","definition","validate","v","schema","data","parentSchema","selectCases","undefined","Error","compiled","getCompiledSchemas","cases","default","valid","errors","metaSchema","type","addKeyword","compile","schemas","value","compileOrBoolean","additionalProperties","create","some","c","push"],"sources":["C:/Users/chest/OneDrive/Documentos/GitHub/HackUPC/frontend/node_modules/ajv-keywords/keywords/select.js"],"sourcesContent":["'use strict';\n\nvar util = require('./_util');\n\nmodule.exports = function defFunc(ajv) {\n  if (!ajv._opts.$data) {\n    console.warn('keyword select requires $data option');\n    return ajv;\n  }\n  var metaSchemaRef = util.metaSchemaRef(ajv);\n  var compiledCaseSchemas = [];\n\n  defFunc.definition = {\n    validate: function v(schema, data, parentSchema) {\n      if (parentSchema.selectCases === undefined)\n        throw new Error('keyword \"selectCases\" is absent');\n      var compiled = getCompiledSchemas(parentSchema, false);\n      var validate = compiled.cases[schema];\n      if (validate === undefined) validate = compiled.default;\n      if (typeof validate == 'boolean') return validate;\n      var valid = validate(data);\n      if (!valid) v.errors = validate.errors;\n      return valid;\n    },\n    $data: true,\n    metaSchema: { type: ['string', 'number', 'boolean', 'null'] }\n  };\n\n  ajv.addKeyword('select', defFunc.definition);\n  ajv.addKeyword('selectCases', {\n    compile: function (schemas, parentSchema) {\n      var compiled = getCompiledSchemas(parentSchema);\n      for (var value in schemas)\n        compiled.cases[value] = compileOrBoolean(schemas[value]);\n      return function() { return true; };\n    },\n    valid: true,\n    metaSchema: {\n      type: 'object',\n      additionalProperties: metaSchemaRef\n    }\n  });\n  ajv.addKeyword('selectDefault', {\n    compile: function (schema, parentSchema) {\n      var compiled = getCompiledSchemas(parentSchema);\n      compiled.default = compileOrBoolean(schema);\n      return function() { return true; };\n    },\n    valid: true,\n    metaSchema: metaSchemaRef\n  });\n  return ajv;\n\n\n  function getCompiledSchemas(parentSchema, create) {\n    var compiled;\n    compiledCaseSchemas.some(function (c) {\n      if (c.parentSchema === parentSchema) {\n        compiled = c;\n        return true;\n      }\n    });\n    if (!compiled && create !== false) {\n      compiled = {\n        parentSchema: parentSchema,\n        cases: {},\n        default: true\n      };\n      compiledCaseSchemas.push(compiled);\n    }\n    return compiled;\n  }\n\n  function compileOrBoolean(schema) {\n    return typeof schema == 'boolean'\n            ? schema\n            : ajv.compile(schema);\n  }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}